var MultitrackJS=function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){const i=s(6).default;t.exports=i},function(t,e,s){var i=s(2),n=s(3);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};i(n,o);t.exports=n.locals||{}},function(t,e,s){"use strict";var i,n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),r=[];function a(t){for(var e=-1,s=0;s<r.length;s++)if(r[s].identifier===t){e=s;break}return e}function l(t,e){for(var s={},i=[],n=0;n<t.length;n++){var o=t[n],l=e.base?o[0]+e.base:o[0],d=s[l]||0,c="".concat(l," ").concat(d);s[l]=d+1;var h=a(c),m={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(r[h].references++,r[h].updater(m)):r.push({identifier:c,updater:g(m,e),references:1}),i.push(c)}return i}function d(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var n=s.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=o(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function m(t,e,s,i){var n=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,n);else{var o=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function u(t,e,s){var i=s.css,n=s.media,o=s.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,f=0;function g(t,e){var s,i,n;if(e.singleton){var o=f++;s=p||(p=d(e)),i=m.bind(null,s,o,!1),n=m.bind(null,s,o,!0)}else s=d(e),i=u.bind(null,s,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var s=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var n=a(s[i]);r[n].references--}for(var o=l(t,e),d=0;d<s.length;d++){var c=a(s[d]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}s=o}}}},function(t,e,s){(e=s(4)(!1)).push([t.i,".mjs{--mjs--accent-color: #ced4da;--mjs--accent-text: black;display:block;width:854px;height:480px;font-family:-apple-system,BlinkMacSystemFont,Roboto,Open Sans,Helvetica Neue,\"Noto Sans Armenian\",\"Noto Sans Bengali\",\"Noto Sans Cherokee\",\"Noto Sans Devanagari\",\"Noto Sans Ethiopic\",\"Noto Sans Georgian\",\"Noto Sans Hebrew\",\"Noto Sans Kannada\",\"Noto Sans Khmer\",\"Noto Sans Lao\",\"Noto Sans Osmanya\",\"Noto Sans Tamil\",\"Noto Sans Telugu\",\"Noto Sans Thai\",sans-serif;font-size:1rem;position:relative;background:#000;color:#fff;user-select:none;-moz-user-select:none;-webkit-user-select:none}.mjs .mjs__root{width:100%;height:100%}.mjs video,.mjs .mjs__subtitles{position:absolute;top:0;left:0;width:100%;height:100%}.mjs .mjs__settings{display:none;font-size:.75em;position:absolute;bottom:60px;right:8px;min-width:300px;max-height:calc(100% - 64px);background-color:#212529;color:#fff;border:1px solid #343a40;overflow:auto}.mjs .mjs__settings .mjs__settingsHeader{display:flex;background:var(--mjs--accent-color, white);color:var(--mjs--accent-text, black);padding:0 12px;width:100%;line-height:32px;font-size:1.25em;height:32px;overflow:hidden;box-sizing:border-box}.mjs .mjs__settings .mjs__settingsHeader[showicon=true]::before{content:\"\";display:block;width:18px;height:18px;font-weight:bold;margin:auto 1em auto 0;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='18px' viewBox='0 0 24 24' width='18px' fill='%23000000'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z'/%3E%3C/svg%3E\")}.mjs .mjs__settings .mjs__settingsHeader[showicon=true]{cursor:pointer}.mjs .mjs__settings .mjs__settingsBody>div{padding:8px 0}.mjs .mjs__settings .mjs__settingsBody .mjs__settings_element{display:block;width:100%;height:32px;box-sizing:border-box;display:flex;padding:0 12px;line-height:32px;text-decoration:none;font-size:1.25em;cursor:pointer;transition:.3s background;overflow:hidden;word-break:break-all}.mjs .mjs__settings .mjs__settingsBody .mjs__settings_element:hover{background-color:#343a40}.mjs .mjs__settings .mjs__settingsBody .mjs__settings_element:active{background-color:#495057;transform:scale(0.99)}.mjs .mjs__settings .mjs__settingsBody .mjs__settings_element[selected=true]{background-color:var(--mjs--accent-color, rgba(255, 255, 255, 0.5));color:var(--mjs--accent-text, black)}.mjs .mjs__settings .mjs__settingsBody div[blockname=info]{padding:12px}.mjs .mjs__overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to top, rgba(0, 0, 0, 0.75) 0px, rgba(0, 0, 0, 0) 96px),linear-gradient(to bottom, rgba(0, 0, 0, 0.75) 0px, rgba(0, 0, 0, 0) 96px);transition:.3s opacity,.3s visibility}.mjs .mjs__overlay .mjs__overlay-progressBar{position:absolute;left:0;bottom:36px;width:-webkit-fill-available;width:-moz-available;width:fill-available;height:16px;margin:0 8px;box-sizing:border-box;cursor:pointer}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressPopup{transition:.3s opacity;position:absolute;bottom:16px;padding:2px;border-radius:2px;background-color:rgba(0,0,0,.5);opacity:0;transform:scale(0) translateY(50%);transition:.3s transform,.3s opacity}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressPopup .mjs__overlay-progressPopup-image{width:128px;height:72px}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressPopup .mjs__overlay-progressPopup-time{width:max-content;font-size:12px;margin:0 auto;padding:4px}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressPopup-show{opacity:1;transform:scale(1)}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-played::before{display:block;content:\" \";width:12px;height:12px;border-radius:50%;position:absolute;top:50%;right:0;transform:translateX(50%) translateY(-50%);background-color:#fff}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-background,.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-loaded,.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-played{position:absolute;transform:translateY(-50%);top:50%;left:0;height:4px;width:100%;border-radius:2px}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-played{width:0}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-background{background-color:rgba(255,255,255,.25)}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-loaded{opacity:.5}.mjs .mjs__overlay .mjs__overlay-progressBar .mjs__overlay-progressBar-played{background-color:var(--mjs--accent-color, white)}.mjs .mjs__overlay .mjs__overlay-volumeBar{position:relative;width:60px;height:100%;margin:0 4px;box-sizing:border-box;cursor:pointer}.mjs .mjs__overlay .mjs__overlay-volumeBar .mjs__overlay-volumeBar-background,.mjs .mjs__overlay .mjs__overlay-volumeBar .mjs__overlay-volumeBar-selected{position:absolute;transform:translateY(-50%);top:50%;left:0;height:4px;width:100%}.mjs .mjs__overlay .mjs__overlay-volumeBar .mjs__overlay-volumeBar-background{background-color:rgba(255,255,255,.25)}.mjs .mjs__overlay .mjs__overlay-volumeBar .mjs__overlay-volumeBar-selected{background-color:var(--mjs--accent-color, white)}.mjs .mjs__overlay .mjs__overlay-volumeBar .mjs__overlay-volumeBar-selected::before{display:block;content:\" \";width:12px;height:12px;border-radius:50%;position:absolute;top:50%;right:0;transform:translateX(50%) translateY(-50%);background-color:#fff}.mjs .mjs__overlay .mjs__overlay-top,.mjs .mjs__overlay .mjs__overlay-bottom{display:flex;position:absolute;left:0;width:100%;height:40px;padding:2px 12px;box-sizing:border-box}.mjs .mjs__overlay .mjs__overlay-top{top:0}.mjs .mjs__overlay .mjs__overlay-bottom{bottom:0}.mjs .mjs__overlay .mjs__overlay-title{flex:auto;line-height:36px;padding:0 8px;box-sizing:border-box}.mjs .mjs__overlay .mjs__overlay-time{padding:0 8px;line-height:36px;font-size:12px}.mjs.mjs__overlay_hidden .mjs__overlay{opacity:0}.mjs.mjs__overlay_hidden{cursor:none}.mjs.mjs__settings_show .mjs__overlay{opacity:1}.mjs.mjs__settings_show .mjs__settings{display:block}.mjs .mjs__overlay-button{display:block;border:none;border-radius:4px;padding:4px;margin:2px;width:24px;height:24px;box-sizing:content-box;background-color:transparent;background-position:50%;background-repeat:no-repeat;transition:.3s background;cursor:pointer}.mjs .mjs__overlay-button[hidden]{display:none}.mjs .mjs__overlay-button[icon=playBtn]{padding:4px 9px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M8 5v14l11-7z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=pauseBtn]{padding:4px 9px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=backward10]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24' viewBox='0 0 24 24' width='24'%3E%3Cg%3E%3Cg%3E%3Cpath d='M11.99,5V1l-5,5l5,5V7c3.31,0,6,2.69,6,6s-2.69,6-6,6s-6-2.69-6-6h-2c0,4.42,3.58,8,8,8s8-3.58,8-8S16.41,5,11.99,5z' fill='white'/%3E%3Cg%3E%3Cpath d='M10.89,16h-0.85v-3.26l-1.01,0.31v-0.69l1.77-0.63h0.09V16z' fill='white'/%3E%3Cpath d='M15.17,14.24c0,0.32-0.03,0.6-0.1,0.82s-0.17,0.42-0.29,0.57s-0.28,0.26-0.45,0.33s-0.37,0.1-0.59,0.1 s-0.41-0.03-0.59-0.1s-0.33-0.18-0.46-0.33s-0.23-0.34-0.3-0.57s-0.11-0.5-0.11-0.82V13.5c0-0.32,0.03-0.6,0.1-0.82 s0.17-0.42,0.29-0.57s0.28-0.26,0.45-0.33s0.37-0.1,0.59-0.1s0.41,0.03,0.59,0.1c0.18,0.07,0.33,0.18,0.46,0.33 s0.23,0.34,0.3,0.57s0.11,0.5,0.11,0.82V14.24z M14.32,13.38c0-0.19-0.01-0.35-0.04-0.48s-0.07-0.23-0.12-0.31 s-0.11-0.14-0.19-0.17s-0.16-0.05-0.25-0.05s-0.18,0.02-0.25,0.05s-0.14,0.09-0.19,0.17s-0.09,0.18-0.12,0.31 s-0.04,0.29-0.04,0.48v0.97c0,0.19,0.01,0.35,0.04,0.48s0.07,0.24,0.12,0.32s0.11,0.14,0.19,0.17s0.16,0.05,0.25,0.05 s0.18-0.02,0.25-0.05s0.14-0.09,0.19-0.17s0.09-0.19,0.11-0.32s0.04-0.29,0.04-0.48V13.38z' fill='white'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=forward10]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24' viewBox='0 0 24 24' width='24'%3E%3Cg%3E%3Cg%3E%3Cpath fill='white' d='M18,13c0,3.31-2.69,6-6,6s-6-2.69-6-6s2.69-6,6-6v4l5-5l-5-5v4c-4.42,0-8,3.58-8,8c0,4.42,3.58,8,8,8s8-3.58,8-8H18z'/%3E%3Cpolygon points='10.86,15.94 10.86,11.67 10.77,11.67 9,12.3 9,12.99 10.01,12.68 10.01,15.94' fill='white'/%3E%3Cpath d='M12.25,13.44v0.74c0,1.9,1.31,1.82,1.44,1.82c0.14,0,1.44,0.09,1.44-1.82v-0.74c0-1.9-1.31-1.82-1.44-1.82 C13.55,11.62,12.25,11.53,12.25,13.44z M14.29,13.32v0.97c0,0.77-0.21,1.03-0.59,1.03c-0.38,0-0.6-0.26-0.6-1.03v-0.97 c0-0.75,0.22-1.01,0.59-1.01C14.07,12.3,14.29,12.57,14.29,13.32z' fill='white'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=skip_previous]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24' fill='white'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 6h2v12H6zm3.5 6l8.5 6V6z'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=skip_next]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24' fill='white'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=fullscreenOn]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=fullscreenOff]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=pipOn]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=pipOff]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=volume][iconVar=\"0\"]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=volume][iconVar=\"1\"]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='m 3,9 v 6 h 4 l 5,5 V 4 L 7,9 Z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=volume][iconVar=\"2\"]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='m 3,9 v 6 h 4 l 5,5 V 4 L 7,9 Z m 13.5,3 C 16.5,10.23 15.48,8.71 14,7.97 v 8.05 c 1.48,-0.73 2.5,-2.25 2.5,-4.02 z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=volume][iconVar=\"3\"]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z' fill='white'/%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=menu]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24' viewBox='0 0 24 24' width='24'%3E%3Cg%3E%3Cpath d='M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z' fill='white'/%3E%3C/g%3E%3C/svg%3E\")}.mjs .mjs__overlay-button[icon=copy]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24.0 24.0' width='24'%3E%3Cpath fill='white' d='M 16 1 L 4 1 C 2.9 1 2 1.9 2 3 L 2 17 L 4 17 L 4 3 L 16 3 L 16 1 Z M 19 5 L 8 5 C 6.9 5 6 5.9 6 7 L 6 21 C 6 22.1 6.9 23 8 23 L 19 23 C 20.1 23 21 22.1 21 21 L 21 7 C 21 5.9 20.1 5 19 5 Z M 19 21 L 8 21 L 8 7 L 19 7 L 19 21 Z'/%3E%3Cpath fill='white' d='M 13.4 9.6 C 11.1 9.6 9.2 11.5 9.2 13.8 C 9.2 16.1 11.1 18 13.4 18 C 15.7 18 17.7 16.1 17.7 13.8 C 17.7 11.5 15.8 9.6 13.4 9.6 Z M 13.4 17.2 C 11.5 17.2 10 15.7 10 13.8 C 10 11.9 11.5 10.4 13.4 10.4 C 15.3 10.4 16.8 11.9 16.8 13.8 C 16.8 15.7 15.3 17.2 13.4 17.2 Z M 13.6 11.7 L 13 11.7 L 13 14.2 L 15.2 15.5 L 15.5 15 L 13.6 14 L 13.6 11.7 Z'/%3E%3C/svg%3E\")}#logo_spiner{border:15px solid #fff;border-radius:200px;border-bottom-color:transparent;border-left-color:transparent;height:100px;width:100px;position:absolute;animation:logo_spiner linear 1.5s infinite;pointer-events:none;top:50%;left:50%}@keyframes logo_spiner{0%{transform:translate(-50%, -50%) rotate(0deg)}100%{transform:translate(-50%, -50%) rotate(360deg)}}#logo_play{display:none;height:200px;width:200px;animation:logo_play 1s forwards;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M8 5v14l11-7z' fill='white'/%3E%3C/svg%3E\");background-repeat:no-repeat;position:absolute;pointer-events:none;top:50%;left:50%;transform:translate(-50%, -50%)}@keyframes logo_play{0%{opacity:1}100%{opacity:0}}#logo_pause{display:none;height:200px;width:200px;animation:logo_pause 1s forwards;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z' fill='white'/%3E%3C/svg%3E\");background-repeat:no-repeat;position:absolute;pointer-events:none;top:50%;left:50%;transform:translate(-50%, -50%)}@keyframes logo_pause{0%{opacity:1}100%{opacity:0}}",""]),t.exports=e},function(t,e,s){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=function(t,e){var s=t[1]||"",i=t[3];if(!i)return s;if(e&&"function"==typeof btoa){var n=(r=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[s].concat(o).concat([n]).join("\n")}var r,a,l;return[s].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&n[l[0]]||(s&&(l[2]?l[2]="".concat(s," and ").concat(l[2]):l[2]=s),e.push(l))}},e}},function(t,e,s){"use strict";function i(t){var e=t.toLowerCase().trim().split(/\s*;\s*/);return"banner"===e[0]?{name:e[0],delay:1*e[1]||0,leftToRight:1*e[2]||0,fadeAwayWidth:1*e[3]||0}:/^scroll\s/.test(e[0])?{name:e[0],y1:Math.min(1*e[1],1*e[2]),y2:Math.max(1*e[1],1*e[2]),delay:1*e[3]||0,fadeAwayHeight:1*e[4]||0}:null}function n(t){return t.toLowerCase().replace(/([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)/g," $1 ").replace(/([mnlbspc])/g," $1 ").trim().replace(/\s+/g," ").split(/\s(?=[mnlbspc])/).map((function(t){return t.split(" ").filter((function(t,e){return!(e&&Number.isNaN(1*t))}))}))}s.r(e);var o=["b","i","u","s","fsp","k","K","kf","ko","kt","fe","q","p","pbo","a","an","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"].map((function(t){return{name:t,regex:new RegExp("^"+t+"-?\\d")}}));function r(t){for(var e,s={},i=0;i<o.length;i++){var a=o[i],l=a.name;if(a.regex.test(t))return s[l]=1*t.slice(l.length),s}if(/^fn/.test(t))s.fn=t.slice(2);else if(/^r/.test(t))s.r=t.slice(1);else if(/^fs[\d+-]/.test(t))s.fs=t.slice(2);else if(/^\d?c&?H?[0-9a-f]+|^\d?c$/i.test(t)){var d=t.match(/^(\d?)c&?H?(\w*)/),c=d[1],h=d[2];s["c"+(c||1)]=h&&("000000"+h).slice(-6)}else if(/^\da&?H?[0-9a-f]+/i.test(t)){var m=t.match(/^(\d)a&?H?(\w\w)/),u=m[1],p=m[2];s["a"+u]=p}else if(/^alpha&?H?[0-9a-f]+/i.test(t))e=t.match(/^alpha&?H?([0-9a-f]+)/i),s.alpha=e[1],s.alpha=("00"+s.alpha).slice(-2);else if(/^(?:pos|org|move|fad|fade)\(/.test(t)){var f=t.match(/^(\w+)\((.*?)\)?$/),g=f[1],v=f[2];s[g]=v.trim().split(/\s*,\s*/).map(Number)}else if(/^i?clip/.test(t)){var _=t.match(/^i?clip\((.*?)\)?$/)[1].trim().split(/\s*,\s*/);s.clip={inverse:/iclip/.test(t),scale:1,drawing:null,dots:null},1===_.length&&(s.clip.drawing=n(_[0])),2===_.length&&(s.clip.scale=1*_[0],s.clip.drawing=n(_[1])),4===_.length&&(s.clip.dots=_.map(Number))}else if(/^t\(/.test(t)){var y=t.match(/^t\((.*?)\)?$/)[1].trim().replace(/\\.*/,(function(t){return t.replace(/,/g,"\n")})).split(/\s*,\s*/);if(!y[0])return s;s.t={t1:0,t2:0,accel:1,tags:y[y.length-1].replace(/\n/g,",").split("\\").slice(1).map(r)},2===y.length&&(s.t.accel=1*y[0]),3===y.length&&(s.t.t1=1*y[0],s.t.t2=1*y[1]),4===y.length&&(s.t.t1=1*y[0],s.t.t2=1*y[1],s.t.accel=1*y[2])}return s}function a(t){for(var e=[],s=0,i="",n=0;n<t.length;n++){var o=t[n];"("===o&&s++,")"===o&&s--,s<0&&(s=0),s||"\\"!==o?i+=o:(i&&e.push(i),i="")}return e.push(i),e.map(r)}function l(t){var e=t.split(/{([^{}]*?)}/),s=[];e[0].length&&s.push({tags:[],text:e[0],drawing:[]});for(var i=1;i<e.length;i+=2){var o=a(e[i]),r=o.reduce((function(t,e){return void 0===e.p?t:!!e.p}),!1);s.push({tags:o,text:r?"":e[i+1],drawing:r?n(e[i+1]):[]})}return{raw:t,combined:s.map((function(t){return t.text})).join(""),parsed:s}}function d(t,e){var s=t.split(",");if(s.length>e.length){var n=s.slice(e.length-1).join();(s=s.slice(0,e.length-1)).push(n)}for(var o,r={},a=0;a<s.length;a++){var d=e[a],c=s[a].trim();switch(d){case"Layer":case"MarginL":case"MarginR":case"MarginV":r[d]=1*c;break;case"Start":case"End":r[d]=(o=void 0,3600*(o=c.split(":"))[0]+60*o[1]+1*o[2]);break;case"Effect":r[d]=i(c);break;case"Text":r[d]=l(c);break;default:r[d]=c}}return r}function c(t){return t.match(/Format\s*:\s*(.*)/i)[1].split(/\s*,\s*/)}function h(t){return t.match(/Style\s*:\s*(.*)/i)[1].split(/\s*,\s*/)}var m=Object.assign||function(t){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];for(var i=0;i<e.length;i++)if(e[i])for(var n=Object.keys(e[i]),o=0;o<n.length;o++)t[n[o]]=e[i][n[o]];return t};function u(t){var e={type:null,prev:null,next:null,points:[]};/[mnlbs]/.test(t[0])&&(e.type=t[0].toUpperCase().replace("N","L").replace("B","C"));for(var s=t.length-!(1&t.length),i=1;i<s;i+=2)e.points.push({x:1*t[i],y:1*t[i+1]});return e}function p(t){return!(!t.points.length||!t.type)&&!(/C|S/.test(t.type)&&t.points.length<3)}function f(t){return t.map((function(t){return t.type+t.points.map((function(t){return t.x+","+t.y})).join(",")})).join("")}function g(t){for(var e,s=[],i=0;i<t.length;){var n=t[i],o=u(n);if(p(o)){if("S"===o.type){var r=(s[i-1]||{points:[{x:0,y:0}]}).points.slice(-1)[0],a=r.x,l=r.y;o.points.unshift({x:a,y:l})}i&&(o.prev=s[i-1].type,s[i-1].next=o.type),s.push(o),i++}else{if(i&&"S"===s[i-1].type){var d={p:o.points,c:s[i-1].points.slice(0,3)};s[i-1].points=s[i-1].points.concat((d[n[0]]||[]).map((function(t){return{x:t.x,y:t.y}})))}t.splice(i,1)}}var c=(e=[]).concat.apply(e,s.map((function(t){var e=t.type,s=t.points,i=t.prev,n=t.next;return"S"===e?function(t,e,s){var i=[],n=[0,2/3,1/3,0],o=[0,1/3,2/3,0],r=[0,1/6,2/3,1/6],a=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},l=[t[t.length-1].x,t[0].x,t[1].x,t[2].x],d=[t[t.length-1].y,t[0].y,t[1].y,t[2].y];i.push({type:"M"===e?"M":"L",points:[{x:a(r,l),y:a(r,d)}]});for(var c=3;c<t.length;c++)l=[t[c-3].x,t[c-2].x,t[c-1].x,t[c].x],d=[t[c-3].y,t[c-2].y,t[c-1].y,t[c].y],i.push({type:"C",points:[{x:a(n,l),y:a(n,d)},{x:a(o,l),y:a(o,d)},{x:a(r,l),y:a(r,d)}]});if("L"===s||"C"===s){var h=t[t.length-1];i.push({type:"L",points:[{x:h.x,y:h.y}]})}return i}(s,i,n):{type:e,points:s}})));return m({instructions:c,d:f(c)},function(t){var e,s=1/0,i=1/0,n=-1/0,o=-1/0;return(e=[]).concat.apply(e,t.map((function(t){return t.points}))).forEach((function(t){var e=t.x,r=t.y;s=Math.min(s,e),i=Math.min(i,r),n=Math.max(n,e),o=Math.max(o,r)})),{minX:s,minY:i,width:n-s,height:o-i}}(s))}var v=["fs","clip","c1","c2","c3","c4","a1","a2","a3","a4","alpha","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"];function _(t,e,s){var i,n,o;void 0===s&&(s={});var r=t[e];if(void 0===r)return null;if("pos"===e||"org"===e)return 2===r.length?((i={})[e]={x:r[0],y:r[1]},i):null;if("move"===e){var a=r[0],l=r[1],d=r[2],c=r[3],h=r[4];void 0===h&&(h=0);var u=r[5];return void 0===u&&(u=0),4===r.length||6===r.length?{move:{x1:a,y1:l,x2:d,y2:c,t1:h,t2:u}}:null}if("fad"===e||"fade"===e)return 2===r.length?{fade:{type:"fad",t1:r[0],t2:r[1]}}:7===r.length?{fade:{type:"fade",a1:r[0],a2:r[1],a3:r[2],t1:r[3],t2:r[4],t3:r[5],t4:r[6]}}:null;if("clip"===e){var p=r.inverse,f=r.scale,y=r.drawing,b=r.dots;return y?{clip:{inverse:p,scale:f,drawing:g(y),dots:b}}:b?{clip:{inverse:p,scale:f,drawing:y,dots:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]}}}:null}if(/^[xy]?(bord|shad)$/.test(e)&&(r=Math.max(r,0)),"bord"===e)return{xbord:r,ybord:r};if("shad"===e)return{xshad:r,yshad:r};if(/^c\d$/.test(e))return(n={})[e]=r||s[e],n;if("alpha"===e)return{a1:r,a2:r,a3:r,a4:r};if("fr"===e)return{frz:r};if("fs"===e)return{fs:/^\+|-/.test(r)?(1*r>-10?1+r/10:1)*s.fs:1*r};if("t"===e){var x=r.t1,w=r.accel,j=r.tags,C=r.t2||1e3*(s.end-s.start),k={};return j.forEach((function(t){var e=Object.keys(t)[0];~v.indexOf(e)&&("clip"!==e||t[e].dots)&&m(k,_(t,e,s))})),{t:{t1:x,t2:C,accel:w,tag:k}}}return(o={})[e]=r,o}var y=[null,1,2,3,null,7,8,9,null,4,5,6],b=["r","a","an","pos","org","move","fade","fad","clip"];function x(t,e){return{name:t,borderStyle:e[t].style.BorderStyle,tag:e[t].tag,fragments:[]}}function w(t){for(var e,s,i,n,o,r,a=t.styles,l=t.name,d=t.parsed,c=t.start,h=t.end,u=[],p=x(l,a),f={},v=0;v<d.length;v++){for(var w=d[v],j=w.tags,C=w.text,k=w.drawing,E=void 0,S=0;S<j.length;S++){var B=j[S];E=void 0===B.r?E:B.r}for(var T={tag:void 0===E?JSON.parse(JSON.stringify(f)):{},text:C,drawing:k.length?g(k):null},L=0;L<j.length;L++){var M=j[L];e=e||y[M.a||0]||M.an,s=s||_(M,"pos"),i=i||_(M,"org"),n=n||_(M,"move"),o=o||_(M,"fade")||_(M,"fad"),r=_(M,"clip")||r;var N=Object.keys(M)[0];if(N&&!~b.indexOf(N)){var z=p.tag,I=_(M,N,{start:c,end:h,c1:z.c1,c2:z.c2,c3:z.c3,c4:z.c4,fs:f.fs||p.tag.fs});"t"===N?(T.tag.t=T.tag.t||[],T.tag.t.push(I.t)):m(T.tag,I)}}if(f=T.tag,void 0!==E&&(u.push(p),p=x(a[E]?E:l,a)),T.text||T.drawing){var R=p.fragments[p.fragments.length-1]||{};R.text&&T.text&&!Object.keys(T.tag).length?R.text+=T.text:p.fragments.push(T)}}return u.push(p),m({alignment:e,slices:u},s,i,n,o,r)}function j(t){for(var e=t.styles,s=t.dialogues,i=1/0,n=[],o=0;o<s.length;o++){var r=s[o];if(!(r.Start>=r.End)){e[r.Style]||(r.Style="Default");var a=e[r.Style].style,l=w({styles:e,name:r.Style,parsed:r.Text.parsed,start:r.Start,end:r.End}),d=l.alignment||a.Alignment;i=Math.min(i,r.Layer),n.push(m({layer:r.Layer,start:r.Start,end:r.End,margin:{left:r.MarginL||a.MarginL,right:r.MarginR||a.MarginR,vertical:r.MarginV||a.MarginV},effect:r.Effect},l,{alignment:d}))}}for(var c=0;c<n.length;c++)n[c].layer-=i;return n.sort((function(t,e){return t.start-e.start||t.end-e.end}))}var C={Name:"Default",Fontname:"Arial",Fontsize:"20",PrimaryColour:"&H00FFFFFF&",SecondaryColour:"&H000000FF&",OutlineColour:"&H00000000&",BackColour:"&H00000000&",Bold:"0",Italic:"0",Underline:"0",StrikeOut:"0",ScaleX:"100",ScaleY:"100",Spacing:"0",Angle:"0",BorderStyle:"1",Outline:"2",Shadow:"2",Alignment:"2",MarginL:"10",MarginR:"10",MarginV:"10",Encoding:"1"};function k(t){if(/^(&|H|&H)[0-9a-f]{6,}/i.test(t)){var e=t.match(/&?H?([0-9a-f]{2})?([0-9a-f]{6})/i);return[e[1]||"00",e[2]]}var s=parseInt(t,10);if(!Number.isNaN(s)){if(s<-2147483648)return["00","000000"];var i=-2147483648<=s&&s<=2147483647?("00000000"+(s<0?s+4294967296:s).toString(16)).slice(-8):String(s).slice(0,8);return[i.slice(0,2),i.slice(2)]}return["00","000000"]}function E(t,e){void 0===e&&(e={});var s=function(t){for(var e={info:{},styles:{format:[],style:[]},events:{format:[],comment:[],dialogue:[]}},s=t.split(/\r?\n/),i=0,n=0;n<s.length;n++){var o=s[n].trim();if(!/^;/.test(o)&&(/^\[Script Info\]/i.test(o)?i=1:/^\[V4\+? Styles\]/i.test(o)?i=2:/^\[Events\]/i.test(o)?i=3:/^\[.*\]/.test(o)&&(i=0),0!==i)){if(1===i&&/:/.test(o)){var r=o.match(/(.*?)\s*:\s*(.*)/),a=r[1],l=r[2];e.info[a]=l}if(2===i&&(/^Format\s*:/i.test(o)&&(e.styles.format=c(o)),/^Style\s*:/i.test(o)&&e.styles.style.push(h(o))),3===i&&(/^Format\s*:/i.test(o)&&(e.events.format=c(o)),/^(?:Comment|Dialogue)\s*:/i.test(o))){var m=o.match(/^(\w+?)\s*:\s*(.*)/i),u=m[1],p=m[2];e.events[u.toLowerCase()].push(d(p,e.events.format))}}}return e}(t),i=function(t){for(var e=t.info,s=t.style,i=t.format,n=t.defaultStyle,o={},r=[m({},C,n,{Name:"Default"})].concat(s.map((function(t){for(var e={},s=0;s<i.length;s++)e[i[s]]=t[s];return e}))),a=function(t){var s=r[t];/^(\*+)Default$/.test(s.Name)&&(s.Name="Default"),Object.keys(s).forEach((function(t){"Name"===t||"Fontname"===t||/Colour/.test(t)||(s[t]*=1)}));var i=k(s.PrimaryColour),n=i[0],a=i[1],l=k(s.SecondaryColour),d=l[0],c=l[1],h=k(s.OutlineColour),m=h[0],u=h[1],p=k(s.BackColour),f=p[0],g=p[1],v={fn:s.Fontname,fs:s.Fontsize,c1:a,a1:n,c2:c,a2:d,c3:u,a3:m,c4:g,a4:f,b:Math.abs(s.Bold),i:Math.abs(s.Italic),u:Math.abs(s.Underline),s:Math.abs(s.StrikeOut),fscx:s.ScaleX,fscy:s.ScaleY,fsp:s.Spacing,frz:s.Angle,xbord:s.Outline,ybord:s.Outline,xshad:s.Shadow,yshad:s.Shadow,q:/^[0-3]$/.test(e.WrapStyle)?1*e.WrapStyle:2};o[s.Name]={style:s,tag:v}},l=0;l<r.length;l++)a(l);return o}({info:s.info,style:s.styles.style,format:s.styles.format,defaultStyle:e.defaultStyle||{}});return{info:s.info,width:1*s.info.PlayResX||null,height:1*s.info.PlayResY||null,collisions:s.info.Collisions||"Normal",styles:i,dialogues:j({styles:i,dialogues:s.events.dialogue})}}var S=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,50/3)},B=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||clearTimeout;function T(t){var e=t.match(/(\w\w)(\w\w)(\w\w)(\w\w)/),s=1-("0x"+e[1])/255,i=+("0x"+e[2]),n=+("0x"+e[3]);return"rgba("+ +("0x"+e[4])+","+n+","+i+","+s+")"}function L(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function M(t,e){void 0===e&&(e=[]);for(var s=document.createElementNS("http://www.w3.org/2000/svg",t),i=0;i<e.length;i++){var n=e[i];s.setAttributeNS("xlink:href"===n[0]?"http://www.w3.org/1999/xlink":null,n[0],n[1])}return s}function N(t){var e=document.body.style,s=t.replace(/^\w/,(function(t){return t.toUpperCase()}));return t in e?"":"webkit"+s in e?"-webkit-":"moz"+s in e?"-moz-":""}var z={transform:N("transform"),animation:N("animation"),clipPath:N("clipPath")};function I(t){var e=t.getRootNode?t.getRootNode():document;return e===document?e.head:e}var R=["c3","a3","c4","a4","xbord","ybord","xshad","yshad","blur","be"],A=["fscx","fscy","frx","fry","frz","fax","fay"];function F(t){var e=this._.scriptRes.width,s=this._.scriptRes.height,i="";if(null!==t.dots){var n=t.dots,o=n.x1,r=n.y1,a=n.x2,l=n.y2;i="M"+(o/=e)+","+(r/=s)+"L"+o+","+(l/=s)+","+(a/=e)+","+l+","+a+","+r+"Z"}null!==t.drawing&&(i=t.drawing.instructions.map((function(t){return t.type+t.points.map((function(t){var i=t.x,n=t.y;return i/e+","+n/s})).join(",")})).join(""));var d=1/(1<<t.scale-1);t.inverse&&(i+="M0,0L0,"+d+","+d+","+d+","+d+",0,0,0Z");var c="ASS-"+L(),h=M("clipPath",[["id",c],["clipPathUnits","objectBoundingBox"]]);return h.appendChild(M("path",[["d",i],["transform","scale("+d+")"],["clip-rule","evenodd"]])),this._.$defs.appendChild(h),{$clipPath:h,cssText:z.clipPath+"clip-path:url(#"+c+");"}}function O(t){if(t.clip){var e=document.createElement("div");this._.$stage.insertBefore(e,t.$div),e.appendChild(t.$div),e.className="ASS-fix-objectBoundingBox";var s=F.call(this,t.clip),i=s.cssText,n=s.$clipPath;this._.$defs.appendChild(n),e.style.cssText=i,m(t,{$div:e,$clipPath:n})}}var $=document.createElement("div");$.className="ASS-fix-font-size",$.textContent="M";var H=Object.create(null);function V(t,e){var s=t+"-"+e;return H[s]||($.style.cssText="line-height:normal;font-size:"+e+'px;font-family:"'+t+'",Arial;',H[s]=e*e/$.clientHeight),H[s]}function P(t,e){var s=[],i=T(t.a3+t.c3),n=t.xbord*e,o=t.ybord*e,r=T(t.a4+t.c4),a=t.xshad*e,l=t.yshad*e,d=t.blur||t.be||0;if(!(n+o+a+l))return"none";if(n||o)for(var c=-1;c<=1;c++)for(var h=-1;h<=1;h++){for(var m=1;m<n;m++)for(var u=1;u<o;u++)(c||h)&&s.push(i+" "+c*m+"px "+h*u+"px "+d+"px");s.push(i+" "+c*n+"px "+h*o+"px "+d+"px")}if(a||l){var p=a>0?1:-1,f=l>0?1:-1;a=Math.abs(a),l=Math.abs(l);for(var g=Math.max(n,a-n);g<a+n;g++)for(var v=Math.max(o,l-o);v<l+o;v++)s.push(r+" "+g*p+"px "+v*f+"px "+d+"px");s.push(r+" "+(a+n)*p+"px "+(l+o)*f+"px "+d+"px")}return s.join()}function U(t){return["perspective(314px)","rotateY("+(t.fry||0)+"deg)","rotateX("+(t.frx||0)+"deg)","rotateZ("+(-t.frz||0)+"deg)","scale("+(t.p?1:(t.fscx||100)/100)+","+(t.p?1:(t.fscy||100)/100)+")","skew("+(t.fax||0)+"rad,"+(t.fay||0)+"rad)"].join(" ")}function D(t,e){return"@"+z.animation+"keyframes "+t+" {"+e+"}\n"}var q=function(){this.obj={}};function W(){var t=this,e="";return this.dialogues.forEach((function(s){var i=s.start,n=s.end,o=s.effect,r=s.move,a=s.fade,l=s.slices,d=1e3*(n-i),c=new q;if(o&&!r){var h=o.name,u=o.delay,p=o.lefttoright,f=o.y1,g=o.y2||t._.resampledRes.height;if("banner"===h){var v=t.scale*(d/u)*(p?1:-1);c.set("0.000%","transform","translateX(0)"),c.set("100.000%","transform","translateX("+v+"px)")}if(/^scroll/.test(h)){var _=/up/.test(h)?-1:1,y="translateY("+t.scale*f*_+"px)",b="translateY("+t.scale*g*_+"px)",x=(g-f)/(d/u)*100;c.set("0.000%","transform",y),x<100&&c.set(x.toFixed(3)+"%","transform",b),c.set("100.000%","transform",b)}}if(r){var w=r.x1,j=r.y1,C=r.x2,k=r.y2,E=r.t1,S=r.t2||d,B=s.pos||{x:0,y:0},M=[{x:w,y:j},{x:C,y:k}].map((function(e){var s=e.x,i=e.y;return"translate("+t.scale*(s-B.x)+"px, "+t.scale*(i-B.y)+"px)"}));c.setT({t1:E,t2:S,duration:d,prop:"transform",from:M[0],to:M[1]})}if(a)if("fad"===a.type){var N=a.t1,z=a.t2;c.set("0.000%","opacity",0),N<d?(c.set((N/d*100).toFixed(3)+"%","opacity",1),N+z<d&&c.set(((d-z)/d*100).toFixed(3)+"%","opacity",1),c.set("100.000%","opacity",0)):c.set("100.000%","opacity",d/N)}else{var I=a.a1,F=a.a2,O=a.a3,$=a.t1,H=a.t2,W=a.t3,Y=a.t4,X=[$,H,W,Y].map((function(t){return(t/d*100).toFixed(3)+"%"})),J=[I,F,O].map((function(t){return 1-t/255}));c.set("0.000%","opacity",J[0]),$<d&&c.set(X[0],"opacity",J[0]),H<d&&c.set(X[1],"opacity",J[1]),W<d&&c.set(X[2],"opacity",J[1]),Y<d&&c.set(X[3],"opacity",J[2]),c.set("100.000%","opacity",J[2])}var Z=c.toString();Z&&(m(s,{animationName:"ASS-"+L()}),e+=D(s.animationName,Z)),l.forEach((function(s){s.fragments.forEach((function(i){if(i.tag.t&&i.tag.t.length){var n,o=new q,r=m({},s.tag,i.tag);(n=i.tag.t,n.reduceRight((function(t,e){var s=!1;return t.map((function(t){return s=e.t1===t.t1&&e.t2===t.t2&&e.accel===t.accel,m({},t,s?{tag:m({},t.tag,e.tag)}:{})})).concat(s?[]:e)}),[])).forEach((function(e){var n=e.t1,a=e.t2,l=e.tag;if(l.fs){var c=t.scale*V(r.fn,r.fs)+"px",h=t.scale*V(l.fn,r.fs)+"px";o.setT({t1:n,t2:a,duration:d,prop:"font-size",from:c,to:h})}if(l.fsp){var u=t.scale*r.fsp+"px",p=t.scale*l.fsp+"px";o.setT({t1:n,t2:a,duration:d,prop:"letter-spacing",from:u,to:p})}var f=void 0!==l.a1&&l.a1===l.a2&&l.a2===l.a3&&l.a3===l.a4;if(l.c1||l.a1&&!f){var g=T(r.a1+r.c1),v=T((l.a1||r.a1)+(l.c1||r.c1));o.setT({t1:n,t2:a,duration:d,prop:"color",from:g,to:v})}if(f){var _=1-parseInt(r.a1,16)/255,y=1-parseInt(l.a1,16)/255;o.setT({t1:n,t2:a,duration:d,prop:"opacity",from:_,to:y})}if(R.some((function(t){return void 0!==l[t]&&l[t]!==(i.tag[t]||s.tag[t])}))){var b=/Yes/i.test(t.info.ScaledBorderAndShadow)?t.scale:1,x=P(r,b),w=P(m({},r,l),b);o.setT({t1:n,t2:a,duration:d,prop:"text-shadow",from:x,to:w})}if(A.some((function(t){return void 0!==l[t]&&l[t]!==(i.tag[t]||s.tag[t])}))){var j=m({},r,l);i.drawing&&(m(j,{p:0,fscx:(l.fscx||r.fscx)/r.fscx*100,fscy:(l.fscy||r.fscy)/r.fscy*100}),m(r,{fscx:100,fscy:100}));var C=U(r),k=U(j);o.setT({t1:n,t2:a,duration:d,prop:"transform",from:C,to:k})}}));var a=o.toString();m(i,{animationName:"ASS-"+L()}),e+=D(i.animationName,a)}}))}))})),e}function Y(t,e,s){var i=z.animation;return i+"animation-name:"+t+";"+i+"animation-duration:"+e+"s;"+i+"animation-delay:"+s+"s;"+i+"animation-timing-function:linear;"+i+"animation-iteration-count:1;"+i+"animation-fill-mode:forwards;"}function X(t,e){var s=m({},e,t.tag),i=t.drawing,n=i.minX,o=i.minY,r=i.width,a=i.height,l=this.scale/(1<<s.p-1),d=(s.fscx?s.fscx/100:1)*l,c=(s.fscy?s.fscy/100:1)*l,h=s.blur||s.be||0,u=s.xbord+(s.xshad<0?-s.xshad:0)+h,p=s.ybord+(s.yshad<0?-s.yshad:0)+h,f=r*d+2*s.xbord+Math.abs(s.xshad)+2*h,g=a*c+2*s.ybord+Math.abs(s.yshad)+2*h,v=M("svg",[["width",f],["height",g],["viewBox",-u+" "+-p+" "+f+" "+g]]),_=/Yes/i.test(this.info.ScaledBorderAndShadow)?this.scale:1,y="ASS-"+L(),b=M("defs");b.appendChild(function(t,e,s){var i=t.xbord||t.ybord,n=t.xshad||t.yshad,o="FF"!==t.a1,r=t.blur||t.be||0,a=M("filter",[["id",e]]);a.appendChild(M("feGaussianBlur",[["stdDeviation",i?0:r],["in","SourceGraphic"],["result","sg_b"]])),a.appendChild(M("feFlood",[["flood-color",T(t.a1+t.c1)],["result","c1"]])),a.appendChild(M("feComposite",[["operator","in"],["in","c1"],["in2","sg_b"],["result","main"]])),i&&(a.appendChild(M("feMorphology",[["radius",t.xbord*s+" "+t.ybord*s],["operator","dilate"],["in","SourceGraphic"],["result","dil"]])),a.appendChild(M("feGaussianBlur",[["stdDeviation",r],["in","dil"],["result","dil_b"]])),a.appendChild(M("feComposite",[["operator","out"],["in","dil_b"],["in2","SourceGraphic"],["result","dil_b_o"]])),a.appendChild(M("feFlood",[["flood-color",T(t.a3+t.c3)],["result","c3"]])),a.appendChild(M("feComposite",[["operator","in"],["in","c3"],["in2","dil_b_o"],["result","border"]]))),n&&(i||o)&&(a.appendChild(M("feOffset",[["dx",t.xshad*s],["dy",t.yshad*s],["in",i?"dil":"SourceGraphic"],["result","off"]])),a.appendChild(M("feGaussianBlur",[["stdDeviation",r],["in","off"],["result","off_b"]])),o||(a.appendChild(M("feOffset",[["dx",t.xshad*s],["dy",t.yshad*s],["in","SourceGraphic"],["result","sg_off"]])),a.appendChild(M("feComposite",[["operator","out"],["in","off_b"],["in2","sg_off"],["result","off_b_o"]]))),a.appendChild(M("feFlood",[["flood-color",T(t.a4+t.c4)],["result","c4"]])),a.appendChild(M("feComposite",[["operator","in"],["in","c4"],["in2",o?"off_b":"off_b_o"],["result","shadow"]])));var l=M("feMerge",[]);return n&&(i||o)&&l.appendChild(M("feMergeNode",[["in","shadow"]])),i&&l.appendChild(M("feMergeNode",[["in","border"]])),l.appendChild(M("feMergeNode",[["in","main"]])),a.appendChild(l),a}(s,y,_)),v.appendChild(b);var x="ASS-"+L(),w=M("symbol",[["id",x],["viewBox",n+" "+o+" "+r+" "+a]]);return w.appendChild(M("path",[["d",t.drawing.d]])),v.appendChild(w),v.appendChild(M("use",[["width",r*d],["height",a*c],["xlink:href","#"+x],["filter","url(#"+y+")"]])),v.style.cssText="position:absolute;left:"+(n*d-u)+"px;top:"+(o*c-p)+"px;",{$svg:v,cssText:"position:relative;width:"+r*d+"px;height:"+a*c+"px;"}}function J(t){var e=this,s=document.createElement("div");s.className="ASS-dialogue";var i=document.createDocumentFragment(),n=t.slices,o=t.start,r=t.end;return n.forEach((function(t){var s=t.borderStyle;t.fragments.forEach((function(n){var a=n.text,l=n.drawing,d=n.animationName,c=m({},t.tag,n.tag),h="display:inline-block;",u=e.video.currentTime;if(!l){h+='font-family:"'+c.fn+'",Arial;',h+="font-size:"+e.scale*V(c.fn,c.fs)+"px;",h+="color:"+T(c.a1+c.c1)+";";var p=/Yes/i.test(e.info.ScaledBorderAndShadow)?e.scale:1;1===s&&(h+="text-shadow:"+P(c,p)+";"),3===s&&(h+="background-color:"+T(c.a3+c.c3)+";box-shadow:"+P(c,p)+";"),h+=c.b?"font-weight:"+(1===c.b?"bold":c.b)+";":"",h+=c.i?"font-style:italic;":"",h+=c.u||c.s?"text-decoration:"+(c.u?"underline":"")+" "+(c.s?"line-through":"")+";":"",h+=c.fsp?"letter-spacing:"+c.fsp+"px;":"",1!==c.q&&0!==c.q&&3!==c.q||(h+="word-break:break-all;white-space:normal;"),2===c.q&&(h+="word-break:normal;white-space:nowrap;")}if(A.some((function(t){return/^fsc[xy]$/.test(t)?100!==c[t]:!!c[t]}))&&(h+=z.transform+"transform:"+U(c)+";",l||(h+="transform-style:preserve-3d;word-break:normal;white-space:nowrap;")),d&&(h+=Y(d,r-o,Math.min(0,o-u))),l&&c.pbo){var f=e.scale*-c.pbo*(c.fscy||100)/100;h+="vertical-align:"+f+"px;"}var g=/"fr[xyz]":[^0]/.test(JSON.stringify(c));(function(t,e){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp;").replace(/\\h/g,"&nbsp;").replace(/\\N/g,"<br>").replace(/\\n/g,2===e?"<br>":"&nbsp;")})(a,c.q).split("<br>").forEach((function(s,o){var r=document.createElement("span");if(r.dataset.hasRotate=g,l){var a=X.call(e,n,t.tag);r.style.cssText=a.cssText,r.appendChild(a.$svg)}else{if(o&&i.appendChild(document.createElement("br")),!s)return;r.innerHTML=s}r.style.cssText+=h,i.appendChild(r)}))}))})),s.appendChild(i),s}function Z(t){var e=t.layer,s=t.margin,i=t.width,n=t.height,o=t.alignment,r=t.end,a=this.width-(this.scale*(s.left+s.right)|0),l=this.height,d=this.scale*s.vertical|0,c=100*this.video.currentTime;this._.space[e]=this._.space[e]||{left:{width:new Uint16Array(l+1),end:new Uint16Array(l+1)},center:{width:new Uint16Array(l+1),end:new Uint16Array(l+1)},right:{width:new Uint16Array(l+1),end:new Uint16Array(l+1)}};var h=this._.space[e],m=["right","left","center"][o%3],u=0,p=0,f=function(t){return(u=function(t){var e=h.left.width[t],s=h.center.width[t],n=h.right.width[t],o=h.left.end[t],r=h.center.end[t],l=h.right.end[t];return"left"===m&&(o>c&&e||r>c&&s&&2*i+s>a||l>c&&n&&i+n>a)||"center"===m&&(o>c&&e&&2*e+i>a||r>c&&s||l>c&&n&&2*n+i>a)||"right"===m&&(o>c&&e&&e+i>a||r>c&&s&&2*i+s>a||l>c&&n)}(t)?0:u+1)>=n&&(p=t,!0)};if(o<=3)for(var g=l-d-1;g>d&&!f(g);g--);else if(o>=7)for(var v=d+1;v<l-d&&!f(v);v++);else for(var _=l-n>>1;_<l-d&&!f(_);_++);o>3&&(p-=n-1);for(var y=p;y<p+n;y++)h[m].width[y]=i,h[m].end[y]=100*r;return p}function G(t){var e=t.effect,s=t.move,i=t.alignment,n=t.width,o=t.height,r=t.margin,a=t.slices,l=0,d=0;if(e)"banner"===e.name&&(i<=3&&(d=this.height-o-r.vertical),i>=4&&i<=6&&(d=(this.height-o)/2),i>=7&&(d=r.vertical),l=e.lefttoright?-n:this.width);else if(t.pos||s){var c=t.pos||{x:0,y:0};i%3==1&&(l=this.scale*c.x),i%3==2&&(l=this.scale*c.x-n/2),i%3==0&&(l=this.scale*c.x-n),i<=3&&(d=this.scale*c.y-o),i>=4&&i<=6&&(d=this.scale*c.y-o/2),i>=7&&(d=this.scale*c.y)}else{i%3==1&&(l=0),i%3==2&&(l=(this.width-n)/2),i%3==0&&(l=this.width-n-this.scale*r.right),a.some((function(t){return t.fragments.some((function(t){return t.animationName}))}))?(i<=3&&(d=this.height-o-r.vertical),i>=4&&i<=6&&(d=(this.height-o)/2),i>=7&&(d=r.vertical)):d=Z.call(this,t)}return{x:l,y:d}}function K(t){var e=t.layer,s=t.start,i=t.end,n=t.alignment,o=t.effect,r=t.pos,a=t.margin,l=t.animationName,d=t.width,c=t.height,h=t.x,m=t.y,u=this.video.currentTime,p="";(e&&(p+="z-index:"+e+";"),l&&(p+=Y(l,i-s,Math.min(0,s-u))),p+="text-align:"+["right","left","center"][n%3]+";",o)||(p+="max-width:"+(this.width-this.scale*(a.left+a.right))+"px;",r||(n%3==1&&(p+="margin-left:"+this.scale*a.left+"px;"),n%3==0&&(p+="margin-right:"+this.scale*a.right+"px;"),d>this.width-this.scale*(a.left+a.right)&&(p+="margin-left:"+this.scale*a.left+"px;",p+="margin-right:"+this.scale*a.right+"px;")));return p+="width:"+d+"px;height:"+c+"px;left:"+h+"px;top:"+m+"px;"}function Q(t){var e=J.call(this,t);m(t,{$div:e}),this._.$stage.appendChild(e);var s=e.getBoundingClientRect(),i=s.width,n=s.height;return m(t,{width:i,height:n}),m(t,G.call(this,t)),e.style.cssText=K.call(this,t),function(t){var e=t.alignment,s=t.width,i=t.height,n=t.x,o=t.y,r=t.$div,a=t.org;a||(a={x:0,y:0},e%3==1&&(a.x=n),e%3==2&&(a.x=n+s/2),e%3==0&&(a.x=n+s),e<=3&&(a.y=o+i),e>=4&&e<=6&&(a.y=o+i/2),e>=7&&(a.y=o));for(var l=r.childNodes.length-1;l>=0;l--){var d=r.childNodes[l];if("true"===d.dataset.hasRotate){var c=a.x-n-d.offsetLeft,h=a.y-o-d.offsetTop;d.style.cssText+=z.transform+"transform-origin:"+c+"px "+h+"px;"}}}(t),O.call(this,t),t}function tt(){for(var t=this.video.currentTime,e=this._.stagings.length-1;e>=0;e--){var s=this._.stagings[e],i=s.end;if(s.effect&&/scroll/.test(s.effect.name)){var n=s.effect,o=n.y1,r=n.y2,a=n.delay,l=((r||this._.resampledRes.height)-o)/(1e3/a);i=Math.min(i,s.start+l)}i<t&&(this._.$stage.removeChild(s.$div),s.$clipPath&&this._.$defs.removeChild(s.$clipPath),this._.stagings.splice(e,1))}for(var d=this.dialogues;this._.index<d.length&&t>=d[this._.index].start;){if(t<d[this._.index].end){var c=Q.call(this,d[this._.index]);this._.stagings.push(c)}++this._.index}}function et(){var t=this,e=function(){tt.call(t),t._.requestId=S(e)};return B(this._.requestId),this._.requestId=S(e),this._.$stage.classList.remove("ASS-animation-paused"),this}function st(){return B(this._.requestId),this._.requestId=0,this._.$stage.classList.add("ASS-animation-paused"),this}function it(){for(;this._.$stage.lastChild;)this._.$stage.removeChild(this._.$stage.lastChild);for(;this._.$defs.lastChild;)this._.$defs.removeChild(this._.$defs.lastChild);this._.stagings=[],this._.space=[]}function nt(){var t=this.video.currentTime,e=this.dialogues;it.call(this),this._.index=function(){for(var s=0,i=e.length-1;s+1<i&&t>e[i+s>>1].end;)s=i+s>>1;if(!s)return 0;for(var n=s;n<i;n++)if(e[n].end>t&&t>=e[n].start||n&&e[n-1].end<t&&t<e[n].start)return n;return i}(),tt.call(this)}function ot(){var t=this._.listener;t.play=et.bind(this),t.pause=st.bind(this),t.seeking=nt.bind(this),this.video.addEventListener("play",t.play),this.video.addEventListener("pause",t.pause),this.video.addEventListener("seeking",t.seeking)}function rt(){var t=this._.listener;this.video.removeEventListener("play",t.play),this.video.removeEventListener("pause",t.pause),this.video.removeEventListener("seeking",t.seeking),t.play=null,t.pause=null,t.seeking=null}function at(){var t=this.video.clientWidth,e=this.video.clientHeight,s=this.video.videoWidth||t,i=this.video.videoHeight||e,n=this._.scriptRes.width,o=this._.scriptRes.height,r=n,a=o,l=Math.min(t/s,e/i);"video_width"===this.resampling&&(a=n/s*i),"video_height"===this.resampling&&(r=o/i*s),this.scale=Math.min(t/r,e/a),"script_width"===this.resampling&&(this.scale=l*(s/r)),"script_height"===this.resampling&&(this.scale=l*(i/a)),this.width=this.scale*r,this.height=this.scale*a,this._.resampledRes={width:r,height:a},this.container.style.cssText="width:"+t+"px;height:"+e+"px;";var d="width:"+this.width+"px;height:"+this.height+"px;top:"+(e-this.height)/2+"px;left:"+(t-this.width)/2+"px;";return this._.$stage.style.cssText=d,this._.$svg.style.cssText=d,this._.$svg.setAttributeNS(null,"viewBox","0 0 "+n+" "+o),this._.$animation.innerHTML=W.call(this),nt.call(this),this}q.prototype.set=function(t,e,s){this.obj[t]||(this.obj[t]={}),this.obj[t][e]=s},q.prototype.setT=function(t){var e=t.t1,s=t.t2,i=t.duration,n=t.prop,o=t.from,r=t.to;this.set("0.000%",n,o),e<i&&this.set((e/i*100).toFixed(3)+"%",n,o),s<i&&this.set((s/i*100).toFixed(3)+"%",n,r),this.set("100.000%",n,r)},q.prototype.toString=function(){var t=this;return Object.keys(this.obj).map((function(e){return e+"{"+Object.keys(t.obj[e]).map((function(s){return""+(z[s]||"")+s+":"+t.obj[e][s]+";"})).join("")+"}"})).join("")};function lt(t,e,s){if(void 0===s&&(s={}),this.scale=1,this._={index:0,stagings:[],space:[],listener:{},$svg:M("svg"),$defs:M("defs"),$stage:document.createElement("div"),$animation:document.createElement("style")},this._.$svg.appendChild(this._.$defs),this._.$stage.className="ASS-stage ASS-animation-paused",this._.resampling=s.resampling||"video_height",this.container=s.container||document.createElement("div"),this.container.classList.add("ASS-container"),this.container.appendChild($),this.container.appendChild(this._.$svg),this._.hasInitContainer=!!s.container,this.video=e,ot.call(this),!this._.hasInitContainer){var i=!e.paused;e.parentNode.insertBefore(this.container,e),this.container.appendChild(e),i&&e.paused&&e.play()}this.container.appendChild(this._.$stage);var n=E(t),o=n.info,r=n.width,a=n.height,l=n.dialogues;this.info=o,this._.scriptRes={width:r||e.videoWidth,height:a||e.videoHeight},this.dialogues=l;var d=I(this.container),c=d.querySelector("#ASS-global-style");return c||((c=document.createElement("style")).type="text/css",c.id="ASS-global-style",c.appendChild(document.createTextNode(".ASS-container,.ASS-stage{position:relative;overflow:hidden}.ASS-container video{position:absolute;top:0;left:0}.ASS-stage{pointer-events:none;position:absolute}.ASS-dialogue{font-size:0;position:absolute}.ASS-fix-font-size{position:absolute;visibility:hidden}.ASS-fix-objectBoundingBox{width:100%;height:100%;position:absolute;top:0;left:0}.ASS-animation-paused *{-webkit-animation-play-state:paused!important;animation-play-state:paused!important}")),d.appendChild(c)),this._.$animation.type="text/css",this._.$animation.className="ASS-animation",d.appendChild(this._.$animation),at.call(this),this.video.paused||(nt.call(this),et.call(this)),this}function dt(){return this._.$stage.style.visibility="visible",this}function ct(){return this._.$stage.style.visibility="hidden",this}function ht(){st.call(this),it.call(this),rt.call(this,this._.listener);var t=I(this.container);if(!this._.hasInitContainer){var e=!this.video.paused;this.container.parentNode.insertBefore(this.video,this.container),this.container.parentNode.removeChild(this.container),e&&this.video.paused&&this.video.play()}for(var s in t.removeChild(this._.$animation),this)Object.prototype.hasOwnProperty.call(this,s)&&(this[s]=null);return this}var mt=/^(video|script)_(width|height)$/;function ut(){return mt.test(this._.resampling)?this._.resampling:"video_height"}function pt(t){return t===this._.resampling?t:(mt.test(t)&&(this._.resampling=t,this.resize()),this._.resampling)}var ft=function(t,e,s){return"string"!=typeof t?this:lt.call(this,t,e,s)},gt={resampling:{configurable:!0}};ft.prototype.resize=function(){return at.call(this)},ft.prototype.show=function(){return dt.call(this)},ft.prototype.hide=function(){return ct.call(this)},ft.prototype.destroy=function(){return ht.call(this)},gt.resampling.get=function(){return ut.call(this)},gt.resampling.set=function(t){return pt.call(this,t)},Object.defineProperties(ft.prototype,gt),e.default=ft},function(t,e,s){"use strict";s.r(e);s(1);function i(t,e){return{x:e.clientX-t.getBoundingClientRect().x,y:e.clientY-t.getBoundingClientRect().y}}function n(t){console.error(this._.name+" | "+t)}function o(t){let e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function r(){return window.location.search.replace("?","").split("&").reduce((function(t,e){let s=e.split("=");return t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]),t}),{})}function a(t){let e=(t=Math.floor(t))%60,s=Math.floor(t/60)%60,i=Math.floor(t/3600);return s=s.toString().padStart(2,"0"),e=e.toString().padStart(2,"0"),i>0?i+":"+s+":"+e:s+":"+e}function l(t,e={},s=(()=>{})){const i=document.createElement(t);for(const t in e)i.setAttribute(t,e[t]);return s(i),i}function d(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}function c(t=!1){this.muted=!(t&&this.muted)}let h;function m(t){let e=this.currentTime;void 0!==o("time")&&"true"===o("s_tt")&&(e=parseFloat(o("time"))),"t"in r()&&(e=parseInt(r().t));const s=this.playbackRate;this._.form.video.mjs_pause(),this._.form.video.src=t,this._.form.video.mjs_setTime(e),this._.form.video.mjs_setRate(s),this._.playing&&this._.form.video.mjs_play()}function u(t,e){document.getElementById("curent_audio").innerText=encodeURIComponent(e.toString());let s=this.currentTime;void 0!==o("time")&&"true"===o("s_tt")&&(s=parseFloat(o("time"))),"t"in r()&&(s=parseFloat(r().t));const i=this.playbackRate;this._.form.audio.mjs_pause(),this._.form.audio.src=t,this._.form.audio.mjs_setTime(s),this._.form.audio.mjs_setRate(i),void 0!==o("volume")&&"true"===o("s_vl")&&(this.volume=parseFloat(o("volume"))),this._.playing&&this._.form.audio.mjs_play()}function p(t,e){document.getElementById("curent_subtitle").innerText=encodeURIComponent(e.toString()),clearTimeout(this._.subtitlesDownloader),void 0!==this._.ass&&(this._.ass.destroy(),this._.ass=void 0),t&&(this._.subtitlesDownloader=setTimeout(()=>{let e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),200===e.status)try{this._.ass=new h(e.responseText,this._.form.video,{container:this._.form.subtitles}),this.resize()}catch{n.call(this,"Can't use ASS library")}}))}function f(t=null){const e=t||this;return new Promise(t=>{const s=e._.form.video,i=e._.form.audio,n=e.playbackRate,o=s.currentTime-i.currentTime;if(i.mjs_setRate(n),s.mjs_setRate(n),s.syncTimeout&&clearTimeout(s.syncTimeout),s.syncTimeout=null,e._.playing&&Math.abs(o)>1/60){0;let e=n-o;.25<=e&&e<=4?document.hasFocus()?(s.mjs_setRate(e),s.syncTimeout=setTimeout(()=>{s.mjs_setRate(n),s.syncTimeout=null},1e3),setTimeout(()=>{t()},1050)):t():(s.mjs_setTime(i.currentTime),t())}else t()})}document.addEventListener("DOMContentLoaded",(function(){h=s(5).default}));let g,v=!0;function _(){const t=[3,4],e=this._.form.video,s=this._.form.audio,i=this._.form.buttons.play;if(t.includes(e.readyState)&&t.includes(s.readyState)){document.getElementById("logo_spiner").style.display="none"}(this._.playing||"p"in r()&&v)&&(t.includes(e.readyState)&&t.includes(s.readyState)?(s.mjs_play(),e.mjs_play(),this._.playing=!0,this.trySync=!0,i.setAttribute("icon","pauseBtn"),v=!1):(!t.includes(e.readyState)&&document.hasFocus()&&s.mjs_pause(),t.includes(s.readyState)||e.mjs_pause()))}function y(t){if(t){this._.form.video.mjs_play(),this._.form.audio.mjs_play(),this._.form.buttons.play.setAttribute("icon","pauseBtn");let t=document.getElementById("logo_play");t.style.display="block",setTimeout((function(){t.style.display="none"}),1e3)}else{this._.form.video.mjs_pause(),this._.form.audio.mjs_pause(),this._.form.buttons.play.setAttribute("icon","playBtn");let t=document.getElementById("logo_pause");t.style.display="block",setTimeout((function(){t.style.display="none"}),1e3)}this._.playing=t}function b(){y.call(this,!0)}function x(){y.call(this,!1)}function w(t){(t+=this.currentTime)<0&&(t=0),this._.form.audio.mjs_setTime(t),this._.form.video.mjs_setTime(t)}function j(t){fetch("ds_series.json").then((function(e){e.json().then((function(e){const s=e.findIndex(t=>"///"+t===decodeURIComponent(window.location.pathname));t?s+1<e.length&&(location.href=window.location.origin+"///"+e[s+1]+"?p=1"):s-1>=0&&(location.href=window.location.origin+"///"+e[s-1]+"?p=1")}))}))}function C(t,e=!1){this._.form.audio.mjs_setTime(t),e||this._.form.video.mjs_setTime(t)}function k(t){t<.25&&(t=.25),t>2&&(t=2),this._.playbackRate=t,f.call(this).then(t=>t)}class E{constructor(t=null){this.Name=t,this.Buttons=[],this.Content=l("div")}appendButton(t,e,s){let i=l("div",{class:"mjs__settings_element"});if(i.innerText=t,i.onclick=()=>{e()},void 0!==s){let t=l("div",{style:"flex: auto;"});i.appendChild(t);let e=l("input",{id:s,type:"checkbox",style:"top: 25%; position: relative; display: inline-block;"});e.checked="true"===o(s),i.appendChild(e)}this.Buttons.push(i),this.Content.appendChild(i)}appendElement(t,e={},s=(()=>{})){let i=l(t,e,s);this.Content.appendChild(i)}}class S{constructor(t=null){this.Name=t,this.Buttons=[],this.Content=l("div")}appendButton(t,e){let s=l("div",{class:"mjs__settings_element"});s.innerText=t,s.onclick=()=>{for(let t of this.Buttons)t.removeAttribute("selected");s.setAttribute("selected","true"),e()},this.Buttons.push(s),this.Content.appendChild(s)}}class B{constructor(t){this.Name=t,this.Content=l("div")}}function T(){clearTimeout(g),g=setTimeout(()=>{this._.rootElement.classList.remove("mjs__settings_show"),this._.form.settings.opened=!1},3e3)}function L(){this._.form.settings.opened?(this._.rootElement.classList.remove("mjs__settings_show"),clearTimeout(g)):(M.call(this),this._.rootElement.classList.add("mjs__settings_show"),T.call(this)),this._.form.settings.opened=!this._.form.settings.opened}function M(){this._.form.settings.title.innerText="",this._.form.settings.header.setAttribute("showIcon",null);for(let t in this._.form.settings.menu)t=this._.form.settings.menu[t],t.Content.setAttribute("style","display: none");this._.form.settings.menuSwitcher.Content.removeAttribute("style")}function N(){this._.form.settings={},this._.form.settings.opened=!1,this._.form.settings.menu={},this._.form.settings.menu.quality=new S(""),this._.form.settings.menu.dubs=new S(""),this._.form.settings.menu.subtitles=new S(""),this._.form.settings.menu.playbackRate=new S(" "),this._.form.settings.menu.settings=new E(""),this._.form.settings.menu.settings.appendButton(" ",()=>{let t=!("true"===o("s_tt"));document.cookie="s_tt="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_tt").checked=t},"s_tt"),this._.form.settings.menu.settings.appendButton(" ",()=>{let t=!("true"===o("s_vl"));document.cookie="s_vl="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_vl").checked=t},"s_vl"),this._.form.settings.menu.settings.appendButton(" ",()=>{let t=!("true"===o("s_vd"));document.cookie="s_vd="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_vd").checked=t},"s_vd"),this._.form.settings.menu.settings.appendButton(" ",()=>{let t=!("true"===o("s_au"));document.cookie="s_au="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_au").checked=t},"s_au"),this._.form.settings.menu.settings.appendButton(" ",()=>{let t=!("true"===o("s_st"));document.cookie="s_st="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_st").checked=t},"s_st"),this._.form.settings.menu.settings.appendButton(" ",()=>{let t=!("true"===o("s_sp"));document.cookie="s_sp="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_sp").checked=t},"s_sp"),this._.form.settings.menu.settings.appendElement("hr",{id:"hr1",style:"border-style: inset; border-width: 1px;"}),this._.form.settings.menu.settings.appendButton("   ",()=>{let t=!("true"===o("s_anv"));document.cookie="s_anv="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_anv").checked=t},"s_anv"),this._.form.settings.menu.settings.appendButton("   ",()=>{let t=!("true"===o("s_sic"));document.cookie="s_sic="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_sic").checked=t,this._.form.video.dispatchEvent(new ProgressEvent("progress"))},"s_sic"),this._.form.settings.menu.settings.appendElement("hr",{id:"hr2",style:"border-style: inset; border-width: 1px;"}),this._.form.settings.menu.settings.appendButton("  ",()=>{let t=!("true"===o("s_sts"));document.cookie="s_sts="+encodeURIComponent(t)+"; path=/; max-age=31536000",document.getElementById("s_sts").checked=t;let e=document.getElementById("overlay_sts");e.style.display=t?"block":"none"},"s_sts"),this._.form.settings.menu.info=new B("  "),this._.form.settings.menu.info.Content=l("div",{blockName:"info"},t=>{let e=l("div",{style:"display: flex; padding-bottom: 12px"},t=>{const e=l("img",{src:"https://avatars.githubusercontent.com/u/87809793?s=48",width:48,height:48});t.appendChild(e);const s=l("div",{style:"line-height: 20px; padding: 4px 8px"},t=>{t.innerHTML+='  :<br><a href="https://github.com/bronyru/Multitrack.JS" style="color: #ffccff">bronyru/Multitrack.JS</a>'});t.appendChild(s)});t.appendChild(e),t.innerHTML+="Build date: "+new Date(1682254426615).toString()}),this._.form.settings.title=l("div",{style:"mjs__settingsHeader-title"}),this._.form.settings.header=l("div",{class:"mjs__settingsHeader"},t=>{t.addEventListener("click",()=>{M.call(this)})}),this._.form.settings.menuSwitcher=new E,this._.form.settings._root=l("div",{class:"mjs__settings"});for(let t of this._.videos)this._.form.settings.menu.quality.appendButton(t.name,()=>{document.cookie="video="+encodeURIComponent(t.name)+"; path=/; max-age=31536000",m.call(this,t.path)});let t=0;if(this._.preferredVideoName){const e=this._.videos.findIndex(t=>t.name===this._.preferredVideoName);-1!==e&&(t=e)}if(void 0!==o("video")&&"true"===o("s_vd")){const e=this._.videos.findIndex(t=>t.name===o("video"));-1!==e&&(t=e)}this._.form.settings.menu.quality.Buttons[t].click();for(let t of this._.audios)this._.form.settings.menu.dubs.appendButton(t.name,()=>{document.cookie="audio="+encodeURIComponent(t.code)+"; path=/; max-age=31536000",u.call(this,t.path,t.code)});let e=0;if(void 0!==o("audio")&&"true"===o("s_au")){const t=this._.audios.findIndex(t=>t.code===o("audio"));-1!==t&&(e=t)}if("a"in r()){const t=this._.audios.findIndex(t=>t.code===r().a);-1!==t&&(e=t)}this._.form.settings.menu.dubs.Buttons[e].click(),this._.subtitles.unshift({name:" ",code:"none",path:void 0});for(let t of this._.subtitles)this._.form.settings.menu.subtitles.appendButton(t.name,()=>{document.cookie="subtitle="+encodeURIComponent(t.code)+"; path=/; max-age=31536000",p.call(this,t.path,t.code)});let s=0;if(void 0!==o("subtitle")&&"true"===o("s_st")){const t=this._.subtitles.findIndex(t=>t.code===o("subtitle"));-1!==t&&(s=t)}if("s"in r()){const t=this._.subtitles.findIndex(t=>t.code===r().s);-1!==t&&(s=t)}this._.form.settings.menu.subtitles.Buttons[s].click();for(let t of[.5,1,1.5,2])this._.form.settings.menu.playbackRate.appendButton(t+"x",()=>{document.cookie="speed="+encodeURIComponent(t)+"; path=/; max-age=31536000",k.call(this,t)});let i=1;if(void 0!==o("speed")&&"true"===o("s_sp")){const t=[.5,1,1.5,2].findIndex(t=>t===parseFloat(o("speed")));-1!==t&&(i=t)}this._.form.settings.menu.playbackRate.Buttons[i].click();for(let t in this._.form.settings.menu)t=this._.form.settings.menu[t],this._.form.settings.menuSwitcher.appendButton(t.Name,()=>{M.call(this),this._.form.settings.header.setAttribute("showIcon","true"),this._.form.settings.title.innerText=t.Name,t.Content.removeAttribute("style"),this._.form.settings.menuSwitcher.Content.setAttribute("style","display: none;")});this._.form.settings.body=l("div",{class:"mjs__settingsBody"}),this._.form.settings.body.appendChild(this._.form.settings.menuSwitcher.Content);for(let t in this._.form.settings.menu)t=this._.form.settings.menu[t],this._.form.settings.body.appendChild(t.Content);M.call(this),this._.form.settings.header.appendChild(this._.form.settings.title),this._.form.settings._root.appendChild(this._.form.settings.header),this._.form.settings._root.appendChild(this._.form.settings.body),this._.form.settings._root.addEventListener("mousemove",()=>{T.call(this)}),this._.form.settings._root.addEventListener("touchmove",()=>{T.call(this)})}function z(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen().then(t=>t):document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitsExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),this._.form.buttons.fullscreen.setAttribute("icon","fullscreenOn");else{let t=this._.element;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.msRequestFullscreen?t.msRequestFullscreen():(t=this._.form.video,t.webkitEnterFullscreen&&t.webkitEnterFullscreen()),this._.form.buttons.fullscreen.setAttribute("icon","fullscreenOff")}}function I(){this._.form.buttons={play:l("button",{icon:"playBtn",class:"mjs__overlay-button"},t=>{t.onclick=()=>{this._.playing?this.pause():this.play()}}),backward10:l("button",{icon:"backward10",class:"mjs__overlay-button"},t=>{t.onclick=()=>{w.call(this,-10)}}),forward10:l("button",{icon:"forward10",class:"mjs__overlay-button"},t=>{t.onclick=()=>{w.call(this,10)}}),skip_previous:l("button",{icon:"skip_previous",class:"mjs__overlay-button"},t=>{t.onclick=()=>{j.call(this,!1)}}),skip_next:l("button",{icon:"skip_next",class:"mjs__overlay-button"},t=>{t.onclick=()=>{j.call(this,!0)}}),fullscreen:l("button",{icon:"fullscreenOn",class:"mjs__overlay-button"},t=>{t.onclick=()=>{z.call(this)}}),copy_url:l("button",{icon:"copy",class:"mjs__overlay-button"},t=>{t.onclick=()=>{try{let t=document.getElementById("curent_audio"),e=document.getElementById("curent_subtitle");navigator.clipboard.writeText(window.location.origin+window.location.pathname+"?p=1&t="+encodeURIComponent(parseInt(this._.form.video.currentTime))+"&a="+t.innerText+"&s="+e.innerText).then(t=>t)}catch{n.call(this,"Sorry, an error occurred while creating the link")}}}),pip:l("button",{icon:"pipOn",class:"mjs__overlay-button"},t=>{t.onclick=()=>{"pictureInPictureEnabled"in document?this._.form.video!==document.pictureInPictureElement?(this._.form.video.requestPictureInPicture().then(t=>t),t.setAttribute("icon","pipOff")):(document.exitPictureInPicture().then(t=>t),t.setAttribute("icon","pipOn")):n.call(this,"Sorry, your browser is not support picture-in-picture")}}),menu:l("button",{icon:"menu",class:"mjs__overlay-button"},t=>{t.addEventListener("click",()=>{L.call(this)})})}}function R(){document.addEventListener("keydown",t=>{switch(t.code){case"Space":t.preventDefault();break;case"KeyK":this._.playing?this.pause():this.play();break;case"ArrowLeft":t.preventDefault(),w.call(this,-5);break;case"ArrowRight":t.preventDefault(),w.call(this,5);break;case"KeyJ":w.call(this,-10);break;case"KeyL":w.call(this,10);break;case"KeyM":c.call(this,!0);break;case"ArrowUp":t.preventDefault(),this.volume+=.05;break;case"ArrowDown":t.preventDefault(),this.volume-=.05;break;case"KeyF":z.call(this);break;case"Digit0":case"Numpad0":this.currentTime=0;break;case"Digit1":case"Numpad1":this.currentTime=.1*this.duration;break;case"Digit2":case"Numpad2":this.currentTime=.2*this.duration;break;case"Digit3":case"Numpad3":this.currentTime=.3*this.duration;break;case"Digit4":case"Numpad4":this.currentTime=.4*this.duration;break;case"Digit5":case"Numpad5":this.currentTime=.5*this.duration;break;case"Digit6":case"Numpad6":this.currentTime=.6*this.duration;break;case"Digit7":case"Numpad7":this.currentTime=.7*this.duration;break;case"Digit8":case"Numpad8":this.currentTime=.8*this.duration;break;case"Digit9":case"Numpad9":this.currentTime=.9*this.duration;break;case"Comma":this._.playing||w.call(this,-1/24);break;case"Period":this._.playing||w.call(this,1/24);break;default:0}})}function A(){this._.moveEvents=[],document.addEventListener("mousemove",t=>{for(let e of this._.moveEvents)e.move(t)}),document.addEventListener("mouseup",t=>{for(let e of this._.moveEvents)e.release(t);this._.moveEvents=[]}),document.addEventListener("touchmove",t=>{for(let e of this._.moveEvents)e.move(t.touches[0])},!1),document.addEventListener("touchend",t=>{for(let e of this._.moveEvents)e.release(t.changedTouches[0]);this._.moveEvents=[]},!1),this._.form.overlays._root.addEventListener("dblclick",t=>{t.target===this._.form.overlays._root&&z.call(this)},!1),this._.element.addEventListener("contextmenu",t=>(t.preventDefault(),L.call(this),!1),!1)}function F(t){const e=this;function s(){y.call(e,!0)}function i(){("AUDIO"===t.tagName||t===document.pictureInPictureElement||document.hasFocus())&&y.call(e,!1)}function n(t){C.call(e,t.target.currentTime,!0)}function r(){k.call(e,t.playbackRate)}if(t.addEventListener("playing",s),t.mjs_play=()=>{t.removeEventListener("playing",s),t.play().then(()=>{t.addEventListener("playing",s)}).catch(()=>{t.addEventListener("playing",s),y.call(e,!1)})},t.addEventListener("pause",i),t.mjs_pause=()=>{t.removeEventListener("pause",i),t.pause(),setTimeout(()=>{t.addEventListener("pause",i)},16)},t.addEventListener("seeking",n),t.mjs_setTime=e=>{t.removeEventListener("seeking",n),t.currentTime=e,setTimeout(()=>{t.addEventListener("seeking",n)},16)},t.addEventListener("ratechange",r),t.mjs_setRate=e=>{t.removeEventListener("ratechange",r),t.playbackRate=e,setTimeout(()=>{t.addEventListener("ratechange",r)},16)},t.addEventListener("waiting",(function(){document.getElementById("logo_spiner").style.display="block",_.call(e)})),t.addEventListener("canplay",(function(){_.call(e)})),"AUDIO"===t.tagName){t.addEventListener("loadedmetadata",(function(){e._.form.time.innerText=a(t.currentTime)+" / "+a(e.duration)})),t.addEventListener("timeupdate",(function(){e._.form.progressbar.updateStyle||e._.form.progressbar.played.setAttribute("style","width:"+100*t.currentTime/e.duration+"%"),e._.form.time.innerText=a.call(e,t.currentTime)+" / "+a.call(e,e.duration),document.cookie="time="+encodeURIComponent(t.currentTime)+"; max-age=31536000",e.duration-t.currentTime<2&&"true"===o("s_anv")&&(document.cookie="time=0; max-age=31536000",j.call(this,!0)),"true"===o("s_sic")&&fetch("ds_times.json").then((function(s){s.json().then((function(s){let i=decodeURIComponent(window.location.pathname).replace("///","");if(void 0!==s[i]&&s[i].length>=1)for(let n in s[i])if(2===s[i][n].length){let o=s[i][n][0],r=s[i][n][1];o<0&&(o=0),r>e.duration&&(r=e.duration),o<=t.currentTime&&t.currentTime<=r&&C.call(e,r+1)}}))}))}))}if("VIDEO"===t.tagName){t.addEventListener("progress",(function(){const s=e._.form.progressbar.loaded,i=e._.form.progressbar.loaded._canvas;s.width=s.clientWidth,i.fillStyle="white",i.clearRect(0,0,s.width,1);for(let n=0;n<t.buffered.length;n++){const o=t.buffered.start(n)*s.width/e.duration,r=t.buffered.end(n)*s.width/e.duration-o;i.fillRect(Math.floor(o),0,Math.floor(r),1)}"true"===o("s_sic")&&fetch("ds_times.json").then((function(t){t.json().then((function(t){let n=decodeURIComponent(window.location.pathname).replace("///","");if(void 0!==t[n]&&t[n].length>=1)for(let o in t[n])if(2===t[n][o].length){let r=t[n][o][0],a=t[n][o][1];r<0&&(r=0),a>e.duration&&(a=e.duration),i.fillStyle="lime";const l=r*s.width/e.duration,d=a*s.width/e.duration-l;i.fillRect(Math.floor(l),0,Math.floor(d),1)}}))}))}))}}function O(){this._.form.audio=l("audio",{},t=>{F.call(this,t)}),this._.form.video=l("video",{playsinline:"",preload:"metadata"},t=>{F.call(this,t)})}function $(){this._.form.buttons.volume=l("button",{class:"mjs__overlay-button",icon:"volume",iconVar:3},t=>{t.addEventListener("click",()=>{c.call(this,!0)})}),this._.form.volumebar={line:l("div",{class:"mjs__overlay-volumeBar-background"}),selected:l("div",{class:"mjs__overlay-volumeBar-selected"}),_root:l("div",{class:"mjs__overlay-volumeBar"},t=>{let e=e=>{this._.form.volumebar.updateStyle=!1,this.volume=i(t,e).x/t.clientWidth},s=e=>{if(this._.form.volumebar.updateStyle){const s=i(t,e).x;this.volume=s/t.clientWidth}};t.addEventListener("mousedown",()=>{this._.form.volumebar.updateStyle=!0,this._.form.audio.lastVolume=this._.form.audio.volume,Object(this._.moveEvents).push({move:s,release:e})}),t.addEventListener("touchstart",()=>{this._.form.volumebar.updateStyle=!0,this._.form.audio.lastVolume=this._.form.audio.volume,Object(this._.moveEvents).push({move:s,release:e})})})},this._.form.volumebar._root.appendChild(this._.form.volumebar.line),this._.form.volumebar._root.appendChild(this._.form.volumebar.selected)}function H(){this._.form.progressbar={line:l("div",{class:"mjs__overlay-progressBar-background"}),loaded:l("canvas",{class:"mjs__overlay-progressBar-loaded",height:1},t=>{t._canvas=t.getContext("2d")}),played:l("div",{class:"mjs__overlay-progressBar-played"}),popup:l("div",{class:"mjs__overlay-progressPopup"},t=>{t.text=l("div",{class:"mjs__overlay-progressPopup-time"}),t.image=l("div",{class:"mjs__overlay-progressPopup-image"})}),_root:l("div",{class:"mjs__overlay-progressBar"},t=>{let e=(e,s)=>{if(this._.form.progressbar.popup.text.innerText=a(this.duration*s),this._.form.progressbar.popup.classList.add("mjs__overlay-progressPopup-show"),0!==this._.form.progressbar.popup.clientWidth&&(this._.form.progressbar.popup.halfWidth=this._.form.progressbar.popup.clientWidth/2),e<this._.form.progressbar.popup.halfWidth?this._.form.progressbar.popup.setAttribute("style","left: 0px"):e<t.clientWidth-this._.form.progressbar.popup.halfWidth?this._.form.progressbar.popup.setAttribute("style","left:"+(e-this._.form.progressbar.popup.halfWidth)+"px"):this._.form.progressbar.popup.setAttribute("style","left:"+(t.clientWidth-2*this._.form.progressbar.popup.halfWidth)+"px"),this._.parameters.frames.image){const t=this._.parameters.frames.x*this._.parameters.frames.y;let e=Math.floor(s*t);e>=t&&(e=t-1);const i=e%this._.parameters.frames.x/(this._.parameters.frames.x-1),n=Math.floor(e/this._.parameters.frames.x)/(this._.parameters.frames.y-1);this._.form.progressbar.popup.image.setAttribute("style","background-position: "+100*i+"% "+100*n+"%; background-size: "+100*this._.parameters.frames.x+"%; background-image: url("+this._.parameters.frames.image+");")}else this._.form.progressbar.popup.image.setAttribute("style","display: none")},s=s=>{const n=i(t,s);let o=n.x/t.clientWidth;o<0&&(o=0),o>1&&(o=1),this._.form.progressbar.updateStyle&&this._.form.progressbar.played.setAttribute("style","width: "+100*o+"%;"),e(n.x,o)},n=e=>{this._.form.progressbar.updateStyle=!1,this._.form.progressbar.popup.classList.remove("mjs__overlay-progressPopup-show"),this.currentTime=this.duration*i(t,e).x/t.clientWidth};t.addEventListener("mousedown",()=>{this._.form.progressbar.updateStyle=!0,Object(this._.moveEvents).push({move:s,release:n})}),t.addEventListener("touchstart",()=>{this._.form.progressbar.updateStyle=!0,Object(this._.moveEvents).push({move:s,release:n})}),t.addEventListener("mousemove",s=>{const n=i(t,s);let o=n.x/t.clientWidth;o<0&&(o=0),o>1&&(o=1),this._.form.progressbar.updateStyle||n.y>0?e(n.x,o):this._.form.progressbar.popup.classList.remove("mjs__overlay-progressPopup-show")}),t.addEventListener("mouseout",()=>{this._.form.progressbar.popup.classList.remove("mjs__overlay-progressPopup-show")})})},this._.form.progressbar.popup.appendChild(this._.form.progressbar.popup.image),this._.form.progressbar.popup.appendChild(this._.form.progressbar.popup.text),this._.form.progressbar._root.appendChild(this._.form.progressbar.popup),this._.form.progressbar._root.appendChild(this._.form.progressbar.line),this._.form.progressbar._root.appendChild(this._.form.progressbar.loaded),this._.form.progressbar._root.appendChild(this._.form.progressbar.played)}let V={s:0,e:0};function P(){let t;function e(){let e=document.getElementsByClassName("mjs__overlay-bottom"),s=document.getElementsByClassName("mjs__overlay-progressBar");e[0].style["pointer-events"]="all",s[0].style["pointer-events"]="all",this._.rootElement.classList.remove("mjs__overlay_hidden"),clearTimeout(t),t=setTimeout(()=>{this._.rootElement.classList.add("mjs__overlay_hidden"),e[0].style["pointer-events"]="none",s[0].style["pointer-events"]="none"},3e3)}this._.element.addEventListener("mousemove",()=>{e.call(this)}),this._.element.addEventListener("touchmove",()=>{e.call(this)}),this._.element.addEventListener("mouseout",()=>{clearTimeout(t),this._.rootElement.classList.add("mjs__overlay_hidden");let e=document.getElementsByClassName("mjs__overlay-bottom"),s=document.getElementsByClassName("mjs__overlay-progressBar");e[0].style["pointer-events"]="none",s[0].style["pointer-events"]="none"}),this._.form.overlays={_root:l("div",{class:"mjs__overlay"},()=>{}),bottom:l("div",{class:"mjs__overlay-bottom"}),top:l("div",{class:"mjs__overlay-top"})},this._.form.overlays.top.appendChild(this._.form.title),this._.form.overlays.bottom.appendChild(this._.form.buttons.play),this._.form.overlays.bottom.appendChild(this._.form.buttons.backward10),this._.form.overlays.bottom.appendChild(this._.form.buttons.forward10),this._.form.overlays.bottom.appendChild(this._.form.buttons.skip_previous),this._.form.overlays.bottom.appendChild(this._.form.buttons.skip_next),this._.form.overlays.bottom.appendChild(this._.form.buttons.volume),this._.form.overlays.bottom.appendChild(this._.form.volumebar._root),this._.form.overlays.bottom.appendChild(this._.form.time),this._.form.overlays.bottom.appendChild(l("div",{style:"flex: auto"}));let s=l("div",{id:"overlay_sts",style:"true"===o("s_sts")?"display: block; padding-top: 8px;":"display: none; padding-top: 8px;"}),i=l("label",{id:"send_time_start",style:"background-color: green; cursor: pointer; padding: 3px 8px; border-radius: 5px; margin-right: 5px;"},t=>{t.onclick=()=>{V.s=this._.form.video.currentTime,t.innerText=a(this._.form.video.currentTime)}});i.innerText="",s.appendChild(i);let n=l("label",{id:"send_time_end",style:"background-color: orange; cursor: pointer; padding: 3px 8px; border-radius: 5px; margin-right: 5px;"},t=>{t.onclick=()=>{V.e=this._.form.video.currentTime,t.innerText=a(this._.form.video.currentTime)}});n.innerText="",s.appendChild(n);let r=l("label",{style:"background-color: blue; cursor: pointer; padding: 3px 8px; border-radius: 5px; margin-right: 5px;"},t=>{t.onclick=()=>{if(V.e>V.s&&V.s>0&&V.e>0){if(confirm(" : "+a(V.s)+"\n : "+a(V.e)+"\n\n ?  ?")){let t=decodeURIComponent(window.location.pathname).replace("///","");console.log({id:t,s:parseInt(V.s),e:parseInt(V.e)});(async(t="",e={})=>{try{return(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(t){alert("     .\n\n"+t)}})("http://140.238.190.163:1125/sts",{id:t,s:parseInt(V.s),e:parseInt(V.e)}).then(t=>t),V={s:0,e:0},document.getElementById("send_time_start").innerText="",document.getElementById("send_time_end").innerText=""}}else alert("1.        .\n\n2.        .")}});r.innerText="",s.appendChild(r),this._.form.overlays.bottom.appendChild(s),this._.form.overlays.bottom.appendChild(l("div",{style:"flex: auto"})),this._.form.overlays.bottom.appendChild(this._.form.buttons.copy_url),"pictureInPictureEnabled"in document&&this._.form.overlays.bottom.appendChild(this._.form.buttons.pip),this._.form.overlays.bottom.appendChild(this._.form.buttons.menu),this._.form.overlays.bottom.appendChild(this._.form.buttons.fullscreen),this._.form.overlays._root.appendChild(this._.form.overlays.top),this._.form.overlays._root.appendChild(this._.form.overlays.bottom),this._.form.overlays._root.appendChild(this._.form.progressbar._root),this._.form.overlays._root.addEventListener("click",t=>{t.target===this._.form.overlays._root&&(this._.playing?this.pause():this.play())})}function U(){this._.rootElement.classList.add("mjs"),this._.element=l("div",{class:"mjs__root"}),this._.form={},O.call(this),this._.form.subtitles=l("div",{class:"mjs__subtitles"}),this._.form.time=l("div",{class:"mjs__overlay-time"}),this._.form.time.innerText="--:-- / --:--",this._.form.title=l("div",{class:"mjs__overlay-title"}),this._.form.logo_spiner=l("div",{id:"logo_spiner"}),this._.form.logo_play=l("div",{id:"logo_play"}),this._.form.logo_pause=l("div",{id:"logo_pause"}),I.call(this),H.call(this),$.call(this),N.call(this),P.call(this),this._.element.appendChild(this._.form.video),this._.element.appendChild(this._.form.audio),this._.element.appendChild(this._.form.subtitles),this._.element.appendChild(this._.form.overlays._root),this._.element.appendChild(this._.form.settings._root),this._.element.appendChild(this._.form.logo_spiner),this._.element.appendChild(this._.form.logo_play),this._.element.appendChild(this._.form.logo_pause),A.call(this),R.call(this),this._.rootElement.appendChild(this._.element)}function D(t,e){this._={name:"Multitrack.JS",parameters:{frames:{x:10,y:10}},subtitlesDownloader:null,videos:e.videos,audios:e.audios,subtitles:e.subtitles,preferredVideoName:e.preferredVideoName,playbackRate:1,enable_sync:!1},this._.playing=!1,(this._.rootElement=document.querySelector(t))?(U.call(this),e.placeholder&&(this._.form.video.poster=e.placeholder),e.preview&&(this._.parameters.frames.image=e.preview),this._.form.title.innerText=e.title,this.trySync=!0,window.addEventListener("resize",()=>{this.resize()})):n.call(this,"Can not find "+t+" element!")}document.getElementById("app").appendChild(l("div",{id:"curent_audio",style:"display: none;"})),document.getElementById("app").appendChild(l("div",{id:"curent_subtitle",style:"display: none;"}));e.default=class{get currentTime(){return this._.form.audio.currentTime}set currentTime(t){C.call(this,t)}get duration(){return this._.form.audio.duration}get ended(){const t=this._.form.video,e=this._.form.audio;return t.ended||e.ended}get paused(){return!this._.playing}get muted(){return this._.form.audio.muted}set muted(t){t=!0===t;const e=this._.form.audio;e.muted=t;let s=Math.ceil(3*e.volume);t&&(s=0),this._.form.buttons.volume.setAttribute("iconVar",s)}get playbackRate(){return this._.playbackRate}set playbackRate(t){k.call(this,t)}get volume(){return void 0!==o("volume")&&"true"===o("s_vl")?parseFloat(o("volume")):this._.form.audio.volume}set volume(t){if("number"==typeof t){t<0&&(t=0),t>1&&(t=1);const e=this._.form.audio;e.volume=t,document.cookie="volume="+encodeURIComponent(t)+"; path=/; max-age=31536000";let s=Math.ceil(3*e.volume);e.muted&&(s=0),this._.form.buttons.volume.setAttribute("iconVar",s),this._.form.volumebar.selected.setAttribute("style","width: "+100*t+"%;")}}get trySync(){return this._.enable_sync}set trySync(t){const e=this;!0===t&&(t=!0),!1===t&&(t=!1);const s=this._.enable_sync;this._.enable_sync=t,!0===t&&!0!==s&&async function(){let t=Date.now()-1e3;for(;e._.enable_sync;)Date.now()-t>900?(e._.playing&&await f(e),t=Date.now()):await d(1e3)}()}constructor(t,e){return D.call(this,t,e),this}play(){b.call(this)}pause(){x.call(this)}resize(){void 0!==this._.ass&&this._.ass.resize()}}}]);